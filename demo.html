<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:v='urn:schemas-microsoft-com:vml' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=utf-8' http-equiv='content-type' />
    <title>Awesome</title>
    <script src='http://www.google.com/jsapi?key=ABQIAAAAUXDSXET8IRGdgHP9FpGw5BT-fVzUWGS_eJ2ZLPBO_6yPqTi0vhQKAzahOrduDq0xQk09GR-UP3Jgcg'></script>
    <script type='text/javascript'>
      //<![CDATA[
        google.load("jquery", '1.4');
        google.load("maps", "2.x");
      //]]>
    </script>
    <script src='geometrycontrols.js' type='text/javascript'></script>
    <script src='markercontrol.js' type='text/javascript'></script>
    <script src='polygoncontrol.js' type='text/javascript'></script>
    <style>
      body, html {
        height: 100%;
      }
      #map_wrapper {
        height: 100%;
      }
      #map_canvas {      
        width: 100%;
        height: 90%;
      }
    </style>
    <script type='text/javascript'>
    
      var geometryControls; //for testing, give firebug access
      var markerControl; //ditto
      var polygonControl;

      $(function(){
      	GEvent.addDomListener(window,"load",function(){
      	  if (GBrowserIsCompatible()) {

      	    var map = new GMap2(document.getElementById("map_canvas"));
      	    map.setCenter(new GLatLng(47.6062095, -122.3320708), 10);
      	    map.addControl(new GLargeMapControl());
      	    map.addControl(new GHierarchicalMapTypeControl());
      	    map.addMapType(G_PHYSICAL_MAP);
      	    map.addMapType(G_SATELLITE_3D_MAP);
      	    map.enableScrollWheelZoom();

      	    geometryControls = new GeometryControls();
      	    polygonControl = new PolygonControl();
      	    geometryControls.addControl(polygonControl);
      	    map.addControl(geometryControls);

      	    //for testing
      	   geometryControls.Options.autoSave = false;    
      	  }
      	});

      	GEvent.addDomListener(window,"unload",function(){
      		GUnload();
      	});
      });
    </script>
  </head>
  <body>
    <div id='map_wrapper'>
      <div id='map_canvas'></div>
    </div>
  </body>
</html>
